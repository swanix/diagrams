<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XDiagrams - Sistema de Filtros Din√°micos</title>
    <link rel="stylesheet" href="xdiagrams.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #333;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #666;
            font-size: 16px;
        }
        
        .config-examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .config-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .config-card h3 {
            color: #333;
            margin-top: 0;
            margin-bottom: 15px;
        }
        
        .config-card pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 15px;
            overflow-x: auto;
            font-size: 12px;
            line-height: 1.4;
        }
        
        .diagram-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            min-height: 600px;
        }
        
        .features {
            margin-top: 30px;
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .features h3 {
            color: #333;
            margin-top: 0;
        }
        
        .features ul {
            list-style: none;
            padding: 0;
        }
        
        .features li {
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .features li:before {
            content: "‚úÖ ";
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîç Sistema de Filtros Din√°micos</h1>
            <p>Filtros autom√°ticos basados en las columnas de tus datos</p>
        </div>

        <div class="config-examples">
            <div class="config-card">
                <h3>üöÄ Configuraci√≥n B√°sica</h3>
                <pre><code>window.$xDiagrams = {
  url: "data/companies-board.csv",
  filters: {
    auto: true,  // Detecci√≥n autom√°tica
    ui: {
      position: 'top',  // 'top' o 'side'
      showCount: true,
      showReset: true
    }
  }
};</code></pre>
            </div>

            <div class="config-card">
                <h3>üéØ Filtros Custom</h3>
                <pre><code>window.$xDiagrams = {
  url: "data/companies-board.csv",
  filters: {
    auto: true,
    custom: {
      'Department': {
        type: 'select',
        label: 'Departamento',
        priority: 1
      },
      'Name': {
        type: 'search',
        label: 'Buscar Empleado',
        priority: 2
      }
    },
    exclude: ['ID', 'Parent', 'Img']
  }
};</code></pre>
            </div>

            <div class="config-card">
                <h3>‚öôÔ∏è Configuraci√≥n Avanzada</h3>
                <pre><code>window.$xDiagrams = {
  url: "data/companies-board.csv",
  filters: {
    auto: true,
    custom: {
      'Position': {
        type: 'multi-select',
        label: 'Cargos',
        priority: 1
      },
      'Level': {
        type: 'range',
        label: 'Nivel',
        priority: 2
      }
    },
    ui: {
      position: 'side',
      maxFilters: 3,
      showByDefault: false
    }
  }
};</code></pre>
            </div>
        </div>

        <div class="diagram-container">
            <div id="xdiagrams"></div>
        </div>

        <div class="features">
            <h3>üåü Caracter√≠sticas del Sistema de Filtros</h3>
            <ul>
                <li><strong>Detecci√≥n Autom√°tica:</strong> Analiza tus columnas y crea filtros autom√°ticamente</li>
                <li><strong>Tipos de Filtro:</strong> Select, Search, Range, Multi-select seg√∫n el tipo de dato</li>
                <li><strong>Configuraci√≥n Flexible:</strong> Personaliza filtros por proyecto</li>
                <li><strong>Interfaz Adaptable:</strong> Barra superior o panel lateral</li>
                <li><strong>B√∫squeda en Tiempo Real:</strong> Filtros con debounce para mejor performance</li>
                <li><strong>Contador Din√°mico:</strong> Muestra nodos visibles vs total</li>
                <li><strong>Responsive:</strong> Se adapta a dispositivos m√≥viles</li>
                <li><strong>Integraci√≥n Nativa:</strong> Funciona con la navegaci√≥n existente</li>
            </ul>
        </div>
    </div>

    <script src="xdiagrams.js"></script>
    <script>
        // Configuraci√≥n de ejemplo con filtros din√°micos
        window.$xDiagrams = {
            url: "data/companies-board.csv",
            title: "Organigrama con Filtros",
            filters: {
                // Detecci√≥n autom√°tica de filtros
                auto: true,
                
                // Filtros custom personalizados
                custom: {
                    'Department': {
                        type: 'select',
                        label: 'Departamento',
                        priority: 1
                    },
                    'Position': {
                        type: 'select',
                        label: 'Cargo',
                        priority: 2
                    },
                    'Name': {
                        type: 'search',
                        label: 'Buscar Empleado',
                        priority: 3,
                        placeholder: 'Escribe el nombre...'
                    }
                },
                
                // Excluir columnas espec√≠ficas
                exclude: ['ID', 'Parent', 'Img', 'Icon'],
                
                // Configuraci√≥n de UI
                ui: {
                    position: 'top',  // 'top' o 'side'
                    showCount: true,
                    showReset: true,
                    maxFilters: 5,
                    showByDefault: true
                }
            }
        };

        // Inicializar diagrama
        document.addEventListener('DOMContentLoaded', function() {
            const diagram = new XDiagrams(window.$xDiagrams);
            diagram.initDiagram();
        });
    </script>
</body>
</html>
