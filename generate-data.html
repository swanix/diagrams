<!DOCTYPE html>
<html>
<head>
    <title>Generador de Datos de Rendimiento</title>
</head>
<body>
    <h1>Generador de Datos de Rendimiento</h1>
    <button onclick="generateData()">Generar CSV</button>
    <pre id="output"></pre>

    <script>
        // Empresas adicionales para duplicar los datos
        const additionalCompanies = [
            'TSLA', 'NVDA', 'META', 'NFLX', 'ADBE', 'CRM', 'INTC', 'ORCL', 'CSCO', 'PEP',
            'KO', 'DIS', 'JPM', 'V', 'WMT', 'HD', 'PG', 'AMZN', 'GOOGL', 'MSFT', 'AAPL'
        ];

        // Nombres de empresas
        const companyNames = [
            'Tesla Inc.', 'NVIDIA Corporation', 'Meta Platforms Inc.', 'Netflix Inc.', 'Adobe Inc.',
            'Salesforce Inc.', 'Intel Corporation', 'Oracle Corporation', 'Cisco Systems Inc.', 'PepsiCo Inc.',
            'Coca-Cola Company', 'Walt Disney Company', 'JPMorgan Chase & Co.', 'Visa Inc.', 'Walmart Inc.',
            'Home Depot Inc.', 'Procter & Gamble Co.', 'Amazon.com Inc.', 'Alphabet Inc.', 'Microsoft Corporation', 'Apple Inc.'
        ];

        // Departamentos y posiciones para generar variación
        const departments = ['Executive', 'Engineering', 'Marketing', 'Sales', 'Finance', 'HR', 'Legal', 'Operations', 'Technology', 'Product'];
        const positions = ['CEO', 'CTO', 'CFO', 'VP', 'Director', 'Manager', 'Lead', 'Senior', 'Junior', 'Intern'];

        function generateCompanyStructure(companyCode) {
            let csvData = '';
            let nodeCount = 0;
            
            // CEO
            const ceoId = `${companyCode}-1`;
            csvData += `${ceoId},CEO ${companyCode},${companyCode},profile,profile,CEO de la empresa,Chief Executive Officer,Executive\n`;
            nodeCount++;
            
            // Generar 4-6 departamentos principales
            const numDepartments = 4 + Math.floor(Math.random() * 3);
            for (let dept = 1; dept <= numDepartments; dept++) {
                const deptId = `${ceoId}-${dept}`;
                const deptName = departments[dept % departments.length];
                const deptHead = `VP ${deptName}`;
                csvData += `${deptId},${deptHead},${ceoId},profile,profile,VP de ${deptName},VP ${deptName},${deptName}\n`;
                nodeCount++;
                
                // Generar 3-5 directores por departamento
                const numDirectors = 3 + Math.floor(Math.random() * 3);
                for (let dir = 1; dir <= numDirectors; dir++) {
                    const dirId = `${deptId}-${dir}`;
                    const dirName = `Director ${dir}`;
                    csvData += `${dirId},${dirName},${deptId},profile,profile,Director de ${deptName},Director ${deptName},${deptName}\n`;
                    nodeCount++;
                    
                    // Generar 2-4 managers por director
                    const numManagers = 2 + Math.floor(Math.random() * 3);
                    for (let mgr = 1; mgr <= numManagers; mgr++) {
                        const mgrId = `${dirId}-${mgr}`;
                        const mgrName = `Manager ${mgr}`;
                        csvData += `${mgrId},${mgrName},${dirId},profile,profile,Manager de ${deptName},Manager ${deptName},${deptName}\n`;
                        nodeCount++;
                        
                        // Generar 1-3 empleados por manager
                        const numEmployees = 1 + Math.floor(Math.random() * 3);
                        for (let emp = 1; emp <= numEmployees; emp++) {
                            const empId = `${mgrId}-${emp}`;
                            const empName = `Employee ${emp}`;
                            const position = positions[Math.floor(Math.random() * positions.length)];
                            csvData += `${empId},${empName},${mgrId},profile,profile,${position} de ${deptName},${position} ${deptName},${deptName}\n`;
                            nodeCount++;
                        }
                    }
                }
            }
            
            return { csvData, nodeCount };
        }

        function generateData() {
            let csvData = 'Node,Name,Parent,Type,thumbType,Description,Position,Department\n';
            let totalNodes = 0;
            
            // Generar 42 árboles (21 originales duplicados)
            for (let companyIndex = 0; companyIndex < 42; companyIndex++) {
                const companyCode = additionalCompanies[companyIndex % additionalCompanies.length];
                const companyName = companyNames[companyIndex % companyNames.length];
                const companySuffix = Math.floor(companyIndex / additionalCompanies.length) + 1;
                const finalCompanyCode = companyIndex >= additionalCompanies.length ? `${companyCode}${companySuffix}` : companyCode;
                const finalCompanyName = companyIndex >= additionalCompanies.length ? `${companyName} ${companySuffix}` : companyName;
                
                // Nodo raíz de la empresa
                csvData += `${finalCompanyCode},${finalCompanyName},,company,detail,Empresa tecnológica líder,CEO,Executive\n`;
                totalNodes++;
                
                // Generar estructura jerárquica para cada empresa
                const result = generateCompanyStructure(finalCompanyCode);
                csvData += result.csvData;
                totalNodes += result.nodeCount;
            }
            
            // Mostrar resultado
            document.getElementById('output').textContent = `Archivo generado con ${totalNodes} nodos en 42 árboles\n\nPrimeras 10 líneas:\n${csvData.split('\n').slice(0, 10).join('\n')}`;
            
            // Crear descarga del archivo
            const blob = new Blob([csvData], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'companies-board-performance.csv';
            a.click();
            window.URL.revokeObjectURL(url);
        }
    </script>
</body>
</html> 