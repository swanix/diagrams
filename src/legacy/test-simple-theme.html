<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Simple Theme Switch</title>
    <script src="theme-loader.js"></script>
    <link rel="stylesheet" href="sw-diagrams.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
</head>
<body>
<!-- Simple test container -->
<div class="sw-diagram-container" 
  data-themes='{
    "light": "snow",
    "dark": "forest"
  }'
  data-title="Test Simple"
  >
</div>

<!-- Library -->
<script src="sw-diagrams.js"></script>

<!-- Manual test -->
<script>
  setTimeout(() => {
    console.log('=== MANUAL TEST ===');
    
    // Test 1: Check if theme toggle exists
    const toggle = document.getElementById('theme-toggle');
    console.log('1. Theme toggle exists:', !!toggle);
    
    // Test 2: Check current theme
    const currentTheme = localStorage.getItem('selectedTheme_test-simple-theme.html');
    console.log('2. Current theme:', currentTheme);
    
    // Test 3: Check configuration
    const config = window.getThemeConfiguration ? window.getThemeConfiguration() : null;
    console.log('3. Configuration:', config);
    
    // Test 4: Test theme detection
    if (window.isLightTheme) {
      console.log('4. Is current theme light?', window.isLightTheme(currentTheme));
    }
    
    // Test 5: Test opposite theme
    if (window.getOppositeTheme && config) {
      const opposite = window.getOppositeTheme(currentTheme, config);
      console.log('5. Opposite theme would be:', opposite);
    }
    
    // Test 6: Manual theme change
    if (toggle) {
      console.log('6. Clicking theme toggle...');
      toggle.click();
    }
    
    console.log('==================');
  }, 3000);
</script>
</body>
</html> 